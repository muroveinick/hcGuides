<div>
  <p class="px-2">Выберите одну активную и до четырех пассивных реликвий в первой вкладке, а затем укажите уровни
    требуемых
    талантов и реликвий в других</p>
</div>


<div class="utility-contaiter mb-2" *ngIf="showHeroPower() as data">
  <div>
    <button mat-mini-fab color="accent" (click)="onChangeLevel(0)"
      [disabled]="!this.selectedELem || this.selectedELem.curr_level === 0" matTooltip="Задать 0 лвл">
      <mat-icon>exposure_zero</mat-icon>
    </button>
    <button mat-mini-fab color="accent" (click)="onChangeLevel(this.selectedELem.type.levels)"
      [disabled]="this.selectedELem === null || this.selectedELem.curr_level > this.selectedELem.type.levels - 1"
      matTooltip="Задать макс. лвл">
      <mat-icon>add</mat-icon>
    </button>
  </div>

  <mat-form-field style="width: 120px;" class="mx-2" *ngIf="this.selectedELem">
    <mat-label>Уровень реликвии</mat-label>
    <input matInput type="number" autocomplete="off" min="0" [max]="this.selectedELem.type.levels"
      [(value)]="this.selectedELem.curr_level" (keyup)="onChangeLevel(+$event.target.value)" />
    <mat-hint>Введите число</mat-hint>
  </mat-form-field>


  <mat-divider [vertical]="true"></mat-divider>

  <div class="mx-2 items_conteiner">
    <mat-label class="mx-2">Мощь</mat-label>
    <mat-label class="icon__label"><img width="25"
        [src]="'../../assets/img/hero/power.png'"><b>{{formatToSepString(data.power)}}</b></mat-label>
  </div>

  <mat-divider [vertical]="true"></mat-divider>
  <mat-label class="mx-2">Монеток потрачено <br> <b>{{formatToSepString(data.all)}}</b></mat-label>
  <mat-divider [vertical]="true"></mat-divider>
  <div class="mx-2 items_conteiner">
    <mat-label>До фулл героя</mat-label>
    <mat-label class="icon__label"><img width="30"
        [src]="'../../assets/img/hero/coins.png'"><b>{{formatToSepString(FULL_HERO_COINS - data.all)}}</b></mat-label>
    <mat-label class="icon__label"> <img width="30"
        [src]="'../../assets/img/hero/ether.png'"><b>{{formatToSepString(5*(FULL_HERO_COINS -
        data.all))}}</b></mat-label>
  </div>
  <mat-icon>east</mat-icon>
  <div class="items_conteiner mx-2">
    <mat-label class="icon__label"> <img width="20" [src]="'../../assets/img/hero/w_coin.png'">
      <b>{{formatToSepString(FULL_HERO_COINS/3 - data['0'])}}</b>
    </mat-label>
    <mat-label class="icon__label"> <img width="20" [src]="'../../assets/img/hero/m_coin.png'">
      <b>{{formatToSepString(FULL_HERO_COINS/3 - data['1'])}}</b>
    </mat-label>
    <mat-label class="icon__label"> <img width="20" [src]="'../../assets/img/hero/a_coin.png'">
      <b>{{formatToSepString(FULL_HERO_COINS/3 - data['2'])}}</b>
    </mat-label>
  </div>
</div>


<mat-tab-group mat-align-tabs="start">

  <mat-tab label="Выбранные реликвии">
    <div class="view mt-4">
      <ng-container *ngFor="let relic of getRelicsToView() index as index">
        <div *ngIf="relic.type.r === 40" class="m-1 view__item active" id="{{index}}" (click)="setEquipedRelics(index)">
          <img [src]="'../../assets/img/'+relic.logo" attr.width="{{relic.type.r*2}}px"
            onError="this.src='../../assets/img/hero/blank.png'">
        </div>
      </ng-container>
    </div>
    <div class="view mt-4">
      <ng-container *ngFor="let relic of getRelicsToView() index as index">
        <div *ngIf="relic.type.r === 35" class="m-1 view__item passive" (click)="setEquipedRelics(index)"
          id="{{index}}">
          <img [src]="'../../assets/img/'+relic.logo" attr.width="{{relic.type.r*2}}px"
            onError="this.src='../../assets/img/hero/blank.png'">
        </div>
      </ng-container>
    </div>
  </mat-tab>


  <ng-container *ngFor="let branch of getData()">
    <mat-tab label="{{branch.name}}">
      <hero-branch (selectedElem)="setSelected($event)" [relics]="branch.data"></hero-branch>
    </mat-tab>
  </ng-container>

</mat-tab-group>